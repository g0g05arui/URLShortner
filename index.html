<html>
<title>URL Shortner </title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js"></script>
<link href="https://fonts.googleapis.com/css?family=Baloo%20Bhaina%202" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Baloo%20Bhaina%202" rel="stylesheet">
<style>
    .maintext{
        padding-top:5%;
        font-size: 75px;
        color:#4add8c;
    }
    body{
        background-color:#27586B;
        font-family:'Baloo Bhaina 2';
    }
    input{
        height:30px;
    }
</style>
<script>
    function addLink(){
        from=document.getElementById("from").value;
        to=document.getElementById('to').value;
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/api/add", false);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
            To:to,
            From:from
        }));
        var response=xhr.responseText;
        console.log(response);
        const obj = JSON.parse(response);
        if(obj.Code==200){
            toastr.success("Created the url");
        }else{
            toastr.error ("Plug already in use");
        }
    }
    $(document).ready(function() {
        toastr.options = {
            'closeButton': true,
            'debug': false,
            'newestOnTop': false,
            'progressBar': false,
            'positionClass': 'toast-top-right',
            'preventDuplicates': false,
            'showDuration': '1000',
            'hideDuration': '1000',
            'timeOut': '5000',
            'extendedTimeOut': '1000',
            'showEasing': 'swing',
            'hideEasing': 'linear',
            'showMethod': 'fadeIn',
            'hideMethod': 'fadeOut',
        }
    });
</script>
<body>
<div style="text-align: center;">
    <div class="maintext">
        URL Shortner

    </div>

    <div style="color:#4add8c
                ;font-size:25px;">
        From
        <input type="text" id="from" size="100" style="height: 30px">
        <br>
        To &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="text" id="to" size="100" style="height: 30px"
        >
        <br>
        <button id="gobtn" onclick="addLink()" style="background-color:#27586B;color:#4add8c;    height: 40px;
    width: 120px;
    border-radius: 8px;
    border: 1px solid #dcdcdc;
    padding: 10px;
    margin: 3px;">Create paring</button>
    </div>

</div>
</body>
</html>
